{% extends "base.html" %}

{% block content %}
<h2 style="color: #f5f5f5; margin-bottom: 1.5rem;">나의 일기 목록</h2>

{% if diaries %}
<div style="display: flex; flex-direction: column; gap: 1.5rem;">
    {% for diary in diaries %}
    <div style="background-color: #1f1f1f; padding: 1rem; border-radius: 12px; box-shadow: 0 4px 8px rgba(0,0,0,0.3);">
        <h3 style="margin-bottom: 0.5rem; color: #fff;">{{ diary.title }}</h3>
        <p style="color: #ccc; margin-bottom: 0.5rem;">{{ diary.text }}</p>
        <small style="color: #888;">{{ diary.date|date:"Y-m-d" }} | 감정: {{ diary.label }} ({{ diary.score }})</small>

        {% if diary.summary or diary.empathy %}
        <div style="margin-top: 1rem; padding: 0.8rem 1rem; background-color: #2a2a2a; border-radius: 12px;">
            {% if diary.summary %}
            <p style="margin: 0 0 0.5rem 0; color: #f5f5f5;"><strong>📝 요약:</strong> {{ diary.summary }}</p>
            {% endif %}
            {% if diary.empathy %}
            <p style="margin: 0; font-style: italic; color: #ccc;">🤗 {{ diary.empathy }}</p>
            {% endif %}
        </div>
        {% endif %}

        <div style="margin-top: 1rem; display: flex; gap: 0.5rem;">
            <a href="{% url 'diary_edit' diary.id %}">
                <button type="button" style="padding: 0.5rem 1rem; background-color: #3a3a3a; color: #f5f5f5; border: none; border-radius: 6px; cursor: pointer;">수정</button>
            </a>
            <a href="{% url 'diary_delete' diary.id %}">
                <button type="button" style="padding: 0.5rem 1rem; background-color: #d9534f; color: #fff; border: none; border-radius: 6px; cursor: pointer;">삭제</button>
            </a>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<div style="background-color: #1f1f1f; padding: 2rem; border-radius: 12px; text-align: center; box-shadow: 0 4px 6px rgba(0,0,0,0.5);">
  <p style="color: #bbb; font-size: 1.2rem; margin-bottom: 1.5rem;">
    아직 작성된 일기가 없습니다.
  </p>
  <a href="{% url 'diary_create' %}" 
     style="display: inline-block; padding: 0.75rem 2rem; background: linear-gradient(135deg, #00ffaa, #00cc88); color: #121212; font-weight: bold; border-radius: 8px; text-decoration: none; transition: 0.3s;">
    첫 일기 작성하기
  </a>
</div>
{% endif %}
{% endblock %}
